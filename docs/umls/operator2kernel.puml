@startuml
!define RECTANGLE class

skinparam stereotypeDisplay none

hide stereotype
skinparam minClassWidth 100
skinparam nodesep 20
skinparam ranksep 5
'skinparam packageStyle rectangle
'skinparam linetype ortho
'skinparam arrowThickness 1


skinparam rectangle {
    BackgroundColor White
    BorderColor Black
}

skinparam rectangle<<dialect>> {
    BackgroundColor Yellow
    BorderColor Black
    FontColor Black
}

skinparam interface<<compilephase>> {
    BackgroundColor Red
    BorderColor Black
    FontColor Black
}

skinparam interface<<pass>> {
    BackgroundColor Green
    BorderColor Black
    FontColor Black
}

skinparam interface<<conversion>> {
    BackgroundColor DarkBlue
    BorderColor Black
    FontColor Black
}


rectangle "operator dialect" as operator <<dialect>>
rectangle "kernel dialect" as kernel <<dialect>>


() "IMPORED" as IMPORTED <<compilephase>>
() "OPERATOR_OPTED" as OPERATOR_OPTSED <<compilephase>>

() "operatorPlatformDependentPass" as operatorPlatformDependentPass <<pass>>
() "canonicalPass" as canonicalPass <<pass>>
() "shapeInferencePass" as shapeInferencePass <<pass>>
() "typeInferencePass" as typeInferencePass <<pass>>
() "weightFolderPass" as weightFolderPass <<pass>>

() "LoweringToKernel" as LoweringToKernel <<conversion>>


' 连接关系


operator -> IMPORTED
IMPORTED --> operatorPlatformDependentPass
operatorPlatformDependentPass --> canonicalPass
canonicalPass --> shapeInferencePass
shapeInferencePass --> typeInferencePass
typeInferencePass --> weightFolderPass
weightFolderPass --> OPERATOR_OPTSED
OPERATOR_OPTSED --> LoweringToKernel
LoweringToKernel -left-> kernel :lowering

@enduml
